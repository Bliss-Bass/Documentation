<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="3.11.0.808842188625">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 3.11.0">

    <!-- Primary Meta Tags -->
    <title>Updating Bliss Bass builds</title>
    <meta name="title" content="Updating Bliss Bass builds">
    <meta name="description" content="We support a variety of methods for updating Bliss Bass builds.">

    <!-- Canonical -->
    <link rel="canonical" href="https://docs.blisscolabs.dev/features/updates-and-ota/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://docs.blisscolabs.dev/features/updates-and-ota/">
    <meta property="og:title" content="Updating Bliss Bass builds">
    <meta property="og:description" content="We support a variety of methods for updating Bliss Bass builds.">
    <meta property="og:image" content="https://docs.blisscolabs.dev/features/images/image1.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://docs.blisscolabs.dev/features/updates-and-ota/">
    <meta property="twitter:title" content="Updating Bliss Bass builds">
    <meta property="twitter:description" content="We support a variety of methods for updating Bliss Bass builds.">
    <meta property="twitter:image" content="https://docs.blisscolabs.dev/features/images/image1.png">

    <script data-cfasync="false">(function(){var cl=document.documentElement.classList,ls=localStorage.getItem("retype_scheme"),hd=cl.contains("dark"),hl=cl.contains("light"),wm=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;if(ls==="dark"||(!ls&&wm&&!hd&&!hl)){cl.remove("light");cl.add("dark")}else if(ls==="light"||(!ls&&!wm&&!hd&&!hl)){cl.remove("dark");cl.add("light")}})();</script>

    <link href="../../resources/css/retype.css?v=3.11.0.808842188625" rel="stylesheet">

    <script data-cfasync="false" src="../../resources/js/config.js?v=3.11.0.808842188625" data-turbo-eval="false" defer></script>
    <script data-cfasync="false" src="../../resources/js/retype.js?v=3.11.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" data-cfasync="false" src="../../resources/js/lunr.js?v=3.11.0.808842188625" data-turbo-eval="false" defer></script>
</head>
<body>
    <div id="retype-app" class="relative text-base antialiased text-base-text bg-base-bg font-body">
        <div class="absolute bottom-0 left-0" style="top: 5rem; right: 50%"></div>
    
        <header id="retype-header" class="sticky top-0 z-30 flex w-full h-16 bg-header-bg border-b border-header-border md:h-20">
            <div class="container relative flex items-center justify-between pr-6 grow md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton retype-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="retype-sidebar-left-toggle-button"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="retype-branding-logo" href="../../" class="flex items-center leading-snug text-2xl">
                            <span class="w-10 mr-2 grow-0 shrink-0 overflow-hidden">
                                <img class="max-h-10 dark:hidden md:inline-block" src="../../static/bliss-bass_logo.png">
                                <img class="max-h-10 hidden dark:inline-block" src="../../static/bliss-bass_logo.png">
                            </span>
                            <span class="dark:text-white font-bold line-clamp-1 md:line-clamp-2">Bliss Bass</span>
                        </a><span id="retype-branding-label" class="inline-flex mt-1 px-2 py-1 ml-4 text-xs font-medium leading-none items-center rounded-md bg-branding-label-bg text-branding-label-text ring-1 ring-branding-label-border ring-inset md:inline-block">Docs</span>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block border-base-border"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav id="retype-header-nav" class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="../../">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path d="M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"/>
                                        </g>
                                    </svg>
                                    <span>Home</span>
                                </a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
                            <input class="w-full h-10 placeholder-search-placeholder transition-colors duration-200 ease-in bg-search-bg border border-transparent rounded md:text-sm hover:border-search-border-hover focus:outline-none focus:border-search-border-focus" style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search">
                        </div>
        
                        <!-- Mobile search button -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placeholder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="retype-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
    
        <div id="retype-container" class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-sidebar-left-bg border-sidebar-left-border sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton">
            
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-filter-bg border border-filter-border rounded shadow-none text-sm focus:outline-none focus:border-filter-border-focus" type="text" placeholder="Filter">
                </div>
            
                <div class="pl-6 mt-1 mb-4">
                    <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-base-border">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-350 dark:text-dark-400 hover:text-gray-600 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-base-border">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-base-border">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="../../">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path d="M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"/>
                                                </g>
                                            </svg>
                                            <span>Home</span>
                                        </a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-350 dark:text-dark-400 hover:text-gray-600 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 bg-body-bg">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div id="retype-main" class="min-w-0 p-4 grow md:px-16">
                        <main class="relative pb-12 lg:pt-2">
                            <div class="retype-markdown" id="retype-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="retype-sidebar-right-toggle"></div>
                                <!-- Page content  -->
<doc-anchor-target id="updating-bliss-bass-builds" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#updating-bliss-bass-builds">#</doc-anchor-trigger>
        <span>Updating Bliss Bass builds</span>
    </h1>
</doc-anchor-target>
<p>We support a variety of methods for updating Bliss Bass builds. Our installwe is simular to Bliss OS, but we add a few product focused options and features.</p>
<doc-anchor-target id="manually---usb-installer">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#manually---usb-installer">#</doc-anchor-trigger>
        <span>Manually - USB Installer</span>
    </h3>
</doc-anchor-target>
<p>When installed this way, you can easily update to the newest versions of your Bliss Bass by running the USB installer and selecting the EXT4 partition, and select Do Not Format. This will retain the data from the previous install.</p>
<doc-anchor-target id="manually---usb-oem-update">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#manually---usb-oem-update">#</doc-anchor-trigger>
        <span>Manually - USB OEM Update</span>
    </h3>
</doc-anchor-target>
<p>If you have installed the OS using the Bootable USB installer, then you can also update the OS manually by inserting the USB with the new version of BlissBass on it, and on Grub boot menu, navigate to OEM Install &gt; OEM Update</p>
<p>Once selected, the device will boot into the OEM installer and auto-update the existing OS on the device.</p>
<doc-anchor-target id="ota---local-streaming">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#ota---local-streaming">#</doc-anchor-trigger>
        <span>OTA - Local Streaming</span>
    </h3>
</doc-anchor-target>
<p>The UpdateService AIDL allows us to stream an OTA zip from the local device or network attached endpoint.</p>
<p>The UpdaterSDK interface has three main parts: \</p>
<doc-anchor-target id="iupdateraidl">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#iupdateraidl">#</doc-anchor-trigger>
        <span>IUpdater.aidl</span>
    </h4>
</doc-anchor-target>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">interface IUpdater {
   void setCallback(IUpdaterCallback cb);
   void checkForUpdates();
   List&lt;UpdateItemInfo&gt; getAvaliableUpdates();
   void downloadUpdate(String id);
   void pauseDownload(String id);
   void resumeDownload(String id);
   void installUpdate(String id);
   void cancelUpdate();
   void suspendUpdate();
   void resumeUpdate();

   void importUpdate(in ParcelFileDescriptor pfd);
}</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="iupdatercallbackaidl">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#iupdatercallbackaidl">#</doc-anchor-trigger>
        <span>IUpdaterCallback.aidl</span>
    </h4>
</doc-anchor-target>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">interface IUpdaterCallback {
   void onUpdateCheckCompleted(boolean hasNewUpdates);

   void onStatusChange(in UpdateItemInfo update);
   void onDownloadProgressChange(in UpdateItemInfo update);
   void onInstallProgress(in UpdateItemInfo update);

   void onImportStarted();
   void onImportCompleted(in UpdateItemInfo updateBase);
}</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="updateiteminfoaidl">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#updateiteminfoaidl">#</doc-anchor-trigger>
        <span>UpdateItemInfo.aidl</span>
    </h4>
</doc-anchor-target>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">parcelable UpdateItemInfo {
   String name;
   String downloadUrl;
   String downloadId;
   long timestamp;
   String version;
   long fileSize;

   int status;
   int persistentStatus;
   int progress;
   long eta;
   long speed;
   int installProgress;
   boolean availableOnline;
   boolean finalizing;
}</code></pre>
</doc-codeblock></div>
<p>You can use the BlissUpdaterSDK-debug.aar from your target app to stream all required update information to the BlissUpdater app and system update engine.</p>
<doc-anchor-target id="example-updaterclient">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#example-updaterclient">#</doc-anchor-trigger>
        <span>Example: UpdaterClient</span>
    </h4>
</doc-anchor-target>
<p>The UpdaterClient app acts as an example app for interfacing with the BlissUpdaterSDK. The apps MainActivity calls the AIDL methods with each button, and prints out the output in the textbox above.</p>
<p><figure class="content-center">
    <img src="../images/image1.png" alt="alt_text" class="rounded-image-rounded border-image-border border-image-border-width" title="image_tooltip" />
    <figcaption class="caption">alt_text</figcaption>
</figure>
</p>
<p>Clicking <strong>Select update file</strong> will launch the <code v-pre>ACTION_GET_CONTENT</code> intent and then the <code v-pre>ParcelFileDescriptor</code> will be passed to the UpdaterManager.importUpdate. And the import process is triggered, import results can be observed from callbacks onImportStarted and onImportCompleted</p>
<p><figure class="content-center">
    <img src="../images/image2.png" alt="alt_text" class="rounded-image-rounded border-image-border border-image-border-width" title="image_tooltip" />
    <figcaption class="caption">alt_text</figcaption>
</figure>
</p>
<p>Once the import status is complete, the output will be the imported files information:</p>
<p><figure class="content-center">
    <img src="../images/image3.png" alt="alt_text" class="rounded-image-rounded border-image-border border-image-border-width" title="image_tooltip" />
    <figcaption class="caption">alt_text</figcaption>
</figure>
</p>
<p>Using the imported ID (in this case, <strong>local</strong>), we can enter the ID and initiate the Install process:</p>
<p><figure class="content-center">
    <img src="../images/image4.png" alt="alt_text" class="rounded-image-rounded border-image-border border-image-border-width" title="image_tooltip" />
    <figcaption class="caption">alt_text</figcaption>
</figure>
</p>
<p>From there, it will also register the updater service notification:</p>
<p><figure class="content-center">
    <img src="../images/image5.png" alt="alt_text" class="rounded-image-rounded border-image-border border-image-border-width" title="image_tooltip" />
    <figcaption class="caption">alt_text</figcaption>
</figure>
</p>
<p>Once the install process starts, it will have a status of <strong>9</strong> and you can track the <strong>installProgress</strong> percentage.</p>
<p><figure class="content-center">
    <img src="../images/image6.png" alt="alt_text" class="rounded-image-rounded border-image-border border-image-border-width" title="image_tooltip" />
    <figcaption class="caption">alt_text</figcaption>
</figure>
</p>
<p>And after that is complete the <strong>finalizing</strong> process is started and set to <strong>true</strong> and the <strong>installProgress</strong> will track the process percentage.</p>
<p><figure class="content-center">
    <img src="../images/image7.png" alt="alt_text" class="rounded-image-rounded border-image-border border-image-border-width" title="image_tooltip" />
    <figcaption class="caption">alt_text</figcaption>
</figure>
</p>
<p>Then after receiving a status of <strong>10 (Installed)</strong> or <strong>5 (tmp zip Deleted)</strong>, then the updater service will trigger for a restart. And we can display that in the example by enabling that action</p>
<p><figure class="content-center">
    <img src="../images/image8.png" alt="alt_text" class="rounded-image-rounded border-image-border border-image-border-width" title="image_tooltip" />
    <figcaption class="caption">alt_text</figcaption>
</figure>
</p>
<p>The restart is carried out by the BlissPowerManager:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">BlissPowerManager blissPowerManager = BlissPowerManager.getInstance(this);
       mRebootBtn.setOnClickListener(v -&gt; blissPowerManager.reboot());</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="ota---local-server">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#ota---local-server">#</doc-anchor-trigger>
        <span>OTA - Local Server</span>
    </h3>
</doc-anchor-target>
<p>By default, testing OTA on an unsecured HTTP server is disabled. In order to test OTA, you will need to setup a secured HTTPS nginx server, or change this line in the Updater package to <strong>True</strong>: <a href="https://github.com/BlissRoms/platform_packages_apps_BlissUpdater/blob/arcadia-next/AndroidManifest.xml#L23">https://github.com/BlissRoms/platform_packages_apps_BlissUpdater/blob/arcadia-next/AndroidManifest.xml#L23</a>  <br />
Then recompile BlissBass to disable this security measure.</p>
<doc-anchor-target id="manually-setting-ota-uri-address">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#manually-setting-ota-uri-address">#</doc-anchor-trigger>
        <span>Manually setting OTA URI address:</span>
    </h4>
</doc-anchor-target>
<p>We do allow the ability to manually set the OTA update URI via kernel cmdline interface. This allows you to set the value only when needed for added security. To do so, you should add the following value:</p>
<ul>
<li><code v-pre>SET_CUSTOM_OTA_URI</code> - Sets the custom URL for OTA updates</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">SET_CUSTOM_OTA_URI=https://192.168.1.1/updates/update.json</code></pre>
</doc-codeblock></div>
<p>Or you can set the following system property via ADB:</p>
<ul>
<li><code v-pre>bliss.updater.uri</code></li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">Setprop bliss.updater.uri https://192.168.1.1/updates/update.json</code></pre>
</doc-codeblock></div>
<p>Setting Up The Server:</p>
<p>On the server, we will need to have it setup as a basic nginx web server, with the OTA update .zip located in the same folder as the update.json, with the updates/update.json file formatted like this:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">{
   &quot;response&quot;: [
       {
           &quot;datetime&quot;: 1698795869,1698793200
           &quot;filename&quot;: &quot;Bliss-Go-v15.8.6-x86_64-OFFICIAL-vanilla-20231031.zip&quot;,
           &quot;id&quot;: &quot;f017547c509f01b885792faad33b38e2d30380907454e723dcbb257189b8e80d&quot;,
           &quot;size&quot;: 1194109016,
           &quot;version&quot;: &quot;v15.8&quot;,
           &quot;variant&quot;: &quot;vanilla&quot;,
           &quot;url&quot;: &quot;https://192.168.1.1/Bliss-Go-v15.8.6-x86_64-OFFICIAL-vanilla-20231031.zip&quot;
       }
   ]
}</code></pre>
</doc-codeblock></div>
<p>The values are as follows:</p>
<ul>
<li>“<strong>datetime</strong>” - is calculated using the date command. Example:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">$ date --date='2023-10-31 19:00' +&quot;%s&quot;
</code></pre>
</doc-codeblock></div>
<ul>
<li>“<strong>id</strong>” -  is the sha256 value. Example:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">$ sha256sum Bliss-Go-v15.8.6-x86_64-OFFICIAL-vanilla-20231031.zip
</code></pre>
</doc-codeblock></div>
<ul>
<li>“<strong>size</strong>” - is the size in bytes. Example:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">$ wc -c Bliss-Go-v15.8.6-x86_64-OFFICIAL-vanilla-20231031.zip</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="ota-_-update-status-codes">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#ota-_-update-status-codes">#</doc-anchor-trigger>
        <span>OTA _ Update Status Codes:</span>
    </h3>
</doc-anchor-target>
<p><strong>UpdaterSDK</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">public class UpdateItemStatus {
    public static final int UNKNOWN = 0;
    public static final int STARTING = 1;
    public static final int DOWNLOADING = 2;
    public static final int PAUSED = 3;
    public static final int PAUSED_ERROR = 4;
    public static final int DELETED = 5;
    public static final int VERIFYING = 6;
    public static final int VERIFIED = 7;
    public static final int VERIFICATION_FAILED = 8;
    public static final int INSTALLING = 9;
    public static final int INSTALLED = 10;
    public static final int INSTALLATION_FAILED = 11;
    public static final int INSTALLATION_CANCELLED = 12;
    public static final int INSTALLATION_SUSPENDED = 13;</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="ota---dedicated-update-server">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#ota---dedicated-update-server">#</doc-anchor-trigger>
        <span>OTA - Dedicated Update Server</span>
    </h3>
</doc-anchor-target>
<p><strong>ShipperStack</strong></p>
<p>BlissLabs has produced <a href="https://github.com/shipperstack/shipper/tree/master/docs">ShipperStack</a>, and that is what we use for our update server needs. You can find more information on how to setup and host on the project documentation page.</p>
<p><strong>LineageOS Updater</strong></p>
<p>The updater we use is also compatible with the LineageOS updater framework. You can also find a version of that that is configured for local web servers as well <a href="https://git.libremobileos.com/infrastructure/updater">here</a></p>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results></doc-toolbar-member-filter-no-results>
                            </div>
                            <footer id="retype-content-footer" class="clear-both">
                                <div class="flex flex-wrap items-center justify-between mt-14">
                                    <a id="retype-edit-this-page" class="my-2.5 inline-flex items-center text-sm whitespace-nowrap text-body-link font-body-link-weight hover:text-body-link-hover hover:underline" href="https://github.com/Bliss-Bass/Documentation/blob/main/features/updates-and-ota.md" target="_blank" rel="noopener">
                                        <svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M20 12c-.55 0-1 .45-1 1v7c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h7c.55 0 1-.45 1-1s-.45-1-1-1H4C2.35 3 1 4.35 1 6v14c0 1.65 1.35 3 3 3h14c1.65 0 3-1.35 3-3v-7c0-.55-.45-1-1-1z" /><path d="M22.21 1.79c-1.18-1.18-3.24-1.18-4.41 0l-9.5 9.5c-.13.13-.22.29-.26.46l-1 4c-.08.34.01.7.26.95.18.2.44.3.7.3.08 0 .16-.01.24-.03l4-1c.18-.04.34-.13.46-.26l9.5-9.5c1.22-1.22 1.22-3.2.01-4.42zm-1.42 3l-9.3 9.3-2.11.53.53-2.11 9.3-9.3c.42-.42 1.16-.42 1.59 0 .43.43.43 1.15-.01 1.58z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        <span>Edit on GitHub</span>
                                    </a>
                                </div>
                            
                                <nav id="retype-nextprev" class="print:hidden flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-body-link border border-base-border hover:border-base-border-hover rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../features/dns-internet-restriction/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-base-text-muted">Previous</span>
                                                <span class="block mt-1">Internet Restriction (DNS)</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-body-link border border-base-border hover:border-base-border-hover rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../interfaces/blisspowermanageraidl/power-management-aidl/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-base-text-muted">Next</span>
                                                <span class="block mt-1">Power Management API</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div id="retype-page-footer" class="print:border-none border-t border-base-border pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between print:justify-center">
                                <div id="retype-footer-links" class="print:hidden">
                                    <ul class="flex flex-wrap items-center text-sm">
                                        <li>
                                            <a class="block mr-4 py-2 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-footer-link hover:text-footer-link-hover md:mb-0" href="https://bliss-bass.blisscolabs.dev">A Bliss Co-Labs Project</a>
                                        </li>
                                    </ul>
                                </div>
                                <div id="retype-copyright" class="print:justify-center py-2 text-footer-text font-footer-link-weight text-sm leading-relaxed"><p>© Copyright 2013-2025 – <a href="https://blisscolabs.dev">Bliss Co-Labs</a> – All rights reserved</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-sidebar-right-bg border-sidebar-right-border lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="retype-overlay-target"></div>

    <script data-cfasync="false">window.__DOCS__ = { "title": "Updating Bliss Bass builds", level: 2, icon: "file", hasPrism: false, hasMermaid: false, hasMath: false, tocDepth: 23 }</script>
</body>
</html>
